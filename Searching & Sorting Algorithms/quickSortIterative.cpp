//
// Created by user on 2/19/2025.
//
#include <iostream>

using namespace std;

int partition(int arr[],int first,int last) {
    int x = arr[first];
    int i=first+1;

    for (int j=first+1;j<=last;j++) {
        if (arr[j]<=x){swap(arr[i++],arr[j]);}
    }
    swap(arr[--i],arr[first]);
    return i;
}

void quickSortIterative(int arr[],int l,int h) {
    int stack[h-l+1];
    int top=-1;
    stack[++top]=l;
    stack[++top]=h;

    while (top>=0) {
        h=stack[top--];
        l=stack[top--];

        int pivot = partition(arr,l,h);

        if (l<pivot-1) {
            stack[++top]=l;
            stack[++top]=pivot-1;
        }
        if (pivot+1<h) {
            stack[++top]=pivot+1;
            stack[++top]=h;
        }
    }
}
/*
void printArr(int arr[], int n)
{
    int i;
    for (i = 0; i < n; ++i)
        cout << arr[i] << " ";
}
*/
int main() {
    int n = 20;
   vector<int> numbers{791, 792, 706, 498, 783, 362, 716, 677, 263, 235, 424, 527, 206, 670, 754, 648, 335, 607, 380, 449, 359, 94, 355, 614, 549, 809, 766, 729, 609, 617, 340, 406, 994, 764, 765, 104, 331, 384, 28, 7, 302, 168, 332, 622, 65, 524, 958, 864, 495, 316, 742, 918, 495, 594, 268, 466, 746, 237, 941, 208, 439, 589, 294, 254, 921, 161, 38, 427, 249, 174, 757, 730, 682, 363, 600, 138, 664, 450, 735, 294, 214, 498, 331, 652, 802, 248, 696, 776, 400, 187, 532, 548, 709, 330, 394, 318, 174, 159, 685, 41, 428, 419, 806, 497, 379, 6, 131, 28, 114, 994, 579, 197, 450, 796, 647, 629, 833, 177, 438, 54, 240, 213, 684, 642, 530, 211, 138, 576, 649, 929, 52, 996, 104, 834, 953, 667, 781, 236, 526, 768, 253, 696, 564, 312, 158, 959, 933, 39, 50, 778, 10, 919, 1, 58, 479, 158, 688, 736, 862, 282, 20, 3, 841, 748, 294, 763, 671, 387, 392, 940, 86, 130, 943, 820, 715, 972, 3, 310, 193, 550, 30, 399, 741, 681, 132, 436, 682, 352, 627, 19, 243, 70, 102, 317, 604, 44, 339, 660, 42, 339, 452, 501, 904, 685, 86, 103, 710, 734, 133, 226, 847, 366, 295, 311, 960, 381, 346, 657, 151, 203, 900, 182, 831, 971, 490, 321, 666, 825, 914, 589, 957, 742, 390, 207, 6, 783, 132, 363, 647, 857, 222, 903, 799, 416, 872, 747, 202, 421, 210, 246, 232, 428, 700, 431, 485, 47, 314, 957, 734, 143, 709, 928, 541, 575, 323, 784, 8, 323, 774, 506, 475, 864, 355, 220, 611, 181, 412, 231, 136, 548, 984, 15, 940, 147, 30, 87, 172, 299, 170, 857, 888, 438, 392, 600, 699, 613, 102, 361, 824, 932}
/*
vector<int> numbers{763, 739, 416, 851, 269, 435, 565, 438, 401, 527, 380, 226, 144, 39, 818, 274, 922, 58, 265, 515, 712, 490, 433, 237, 622, 490, 264, 870, 563, 961, 803, 581, 441, 945, 140, 413, 772, 216, 530, 101, 706, 574, 836, 27, 571, 385, 107, 116, 720, 239, 435, 525, 268, 887, 219, 684, 487, 484, 2, 446, 884, 568, 126, 464, 863, 571, 208, 634, 502, 728, 265, 643, 645, 124, 308, 168, 349, 47, 581, 491, 853, 313, 169, 344, 384, 777, 646, 529, 148, 958, 452, 790, 145, 510, 260, 410, 848, 841, 250, 919, 419, 153, 779, 680, 222, 238, 751, 378, 147, 633, 609, 664, 125, 83, 131, 260, 941, 862, 422, 413, 364, 394, 728, 62, 99, 597, 485, 606, 750, 750, 713, 800, 324, 433, 336, 932, 494, 514, 544, 990, 581, 663, 153, 716, 964, 235, 921, 132, 325, 940, 978, 665, 904, 835, 888, 979, 642, 918, 56, 579, 374, 145, 864, 345, 940, 695, 790, 913, 199, 644, 54, 811, 68, 890, 928, 25, 645, 119, 131, 461, 858, 908, 14, 973, 270, 816, 723, 307, 344, 16, 823, 723, 980, 308, 648, 92, 978, 733, 111, 449, 87, 600, 841, 962, 811, 486, 144, 425, 589, 353, 670, 890, 594, 451, 960, 331, 270, 983, 606, 169, 439, 813, 807, 730, 205, 914, 440, 891, 638, 494, 883, 871, 63, 393, 411, 532, 263, 131, 166, 822, 445, 9, 314, 545, 523, 357, 607, 495, 877, 190}


vector<int> numbers{269, 210, 538, 550, 267, 101, 891, 128, 344, 554, 449, 292, 15, 941, 25, 425, 334, 420, 164, 229, 21, 995, 215, 114, 746, 714, 37, 336, 234, 295, 140, 470, 149, 625, 831, 274, 879, 820, 684, 678, 60, 896, 399, 549, 638, 869, 846, 879, 440, 778, 853, 597, 155, 907, 432, 786, 915, 690, 674, 122, 313, 580, 159, 765, 347, 47, 335, 690, 210, 434, 955, 404, 733, 744, 207, 317, 629, 628, 612, 630, 532, 654, 88, 342, 904, 303, 945, 289, 719, 931, 47, 375, 230, 40, 291, 660, 450, 236, 352, 481, 869, 585, 4, 742, 968, 344, 862, 413, 266, 352, 67, 15, 451, 426, 843, 116, 793, 706, 883, 164, 452, 796, 632, 775, 12, 423, 710, 672, 9, 363, 622, 302, 581, 321, 588, 574, 498, 553, 730, 166, 379, 504, 551, 383, 561, 473, 88, 418, 744, 269, 317, 968, 955, 308, 821, 891, 226, 886, 447, 211, 523, 211, 270, 569, 308, 295, 33, 974, 909, 711, 348, 120, 599, 301, 473, 815, 653, 76, 106, 137, 813, 796, 663, 688, 33, 575, 945, 355, 703, 10, 780, 242, 170, 25, 104, 380, 993, 28, 567, 412}


vector<int> numbers{929, 877, 814, 188, 463, 271, 189, 40, 748, 244, 737, 749, 814, 696, 540, 869, 492, 687, 583, 132, 280, 396, 262, 339, 684, 926, 790, 463, 971, 404, 698, 319, 604, 212, 339, 388, 511, 357, 838, 197, 358, 977, 81, 397, 700, 159, 259, 397, 632, 548, 957, 202, 913, 692, 629, 392, 891, 471, 569, 972, 902, 279, 442, 773, 671, 291, 867, 244, 902, 952, 418, 20, 713, 341, 502, 156, 262, 561, 272, 494, 675, 412, 545, 554, 744, 728, 147, 541, 68, 208, 149, 233, 557, 680, 8, 214, 935, 519, 637, 834, 33, 863, 204, 437, 422, 368, 213, 102, 527, 127, 615, 266, 370, 788, 441, 703, 295, 734, 521, 691, 422, 92, 700, 671, 771, 222, 686, 589, 282, 921, 743, 214, 63, 169, 599, 689, 294, 80, 545, 97, 427, 724, 233, 506, 76, 583, 94, 608, 228, 406}


vector<int> numbers{879, 739, 801, 427, 605, 772, 219, 600, 316, 758, 302, 757, 666, 584, 121, 292, 407, 683, 6, 656, 683, 826, 66, 520, 598, 980, 156, 931, 682, 870, 357, 464, 388, 574, 768, 893, 293, 762, 254, 336, 940, 75, 500, 774, 884, 883, 864, 260, 314, 780, 890, 781, 371, 547, 686, 57, 678, 928, 932, 901, 871, 917, 362, 867, 443, 868, 752, 832, 615, 274, 908, 720, 939, 1, 552, 507, 843, 714, 861, 923, 68, 89, 26, 692, 985, 815, 891, 690, 967, 566, 205, 637, 134, 747, 57, 539, 341, 867, 507, 717}


vector<int> numbers{45, 807, 448, 262, 274, 546, 412, 235, 107, 828, 690, 605, 32, 752, 313, 345, 33, 929, 705, 856, 814, 206, 375, 692, 967, 344, 319, 376, 948, 953, 384, 66, 587, 254, 482, 776, 858, 961, 532, 732, 486, 536, 35, 795, 300, 341, 487, 963, 588, 859}
*/

    quickSortIterative(numbers,0,n-1);
    // printArr(numbers, n);
    return 0;
}